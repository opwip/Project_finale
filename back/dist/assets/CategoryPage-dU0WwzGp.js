import{_,d as m,r as h,c as r,b as e,t as n,F as p,e as y,o as c,f as u,w as k,i as l,j as N,k as f}from"./index-p39e-Gzg.js";const x={data(){return{category:[],categoryName:null}},watch:{$route:"getData"},created(){this.getData()},methods:{addToBasket(t){const s={id:t.id,name:t.name,photo:t.photo,price:t.price,amount:1},o=JSON.parse(localStorage.getItem("cart"))||[];o.push(s),localStorage.setItem("cart",JSON.stringify(o)),console.log(o),alert("Товар додан у кошик!")},getData(){const t=this.$route.params.categoryId,s=this.$route.query.categoryName;console.log(t),console.log(s),this.getCategory(t,s)},getCategory(t,s){m.get(`/api/products/?category=${t}`).then(o=>{this.category=o.data,this.categoryName=s,console.log(o.data)}).catch(o=>{console.error("Помилка при отриманні даних:",o)})}}},v={class:"wrap"},w={class:"goods-page-wrap"},C={class:"cart-img"},I=["src"],B={class:"item-footer"},$={class:"storage"},S={key:0,style:{color:"greenyellow"}},D={key:1,style:{color:"red"}},V=["onClick"],L=e("img",{src:f,alt:"",width:"40px",height:"35px"},null,-1),T=[L];function b(t,s,o,q,i,g){const d=h("RouterLink");return c(),r("div",v,[e("h1",null,n(i.categoryName),1),e("div",w,[(c(!0),r(p,null,y(i.category,a=>(c(),r("div",{class:"item-cart",key:a.id},[u(d,{to:{name:"GoodsItemPage",params:{productId:a.id},query:{productName:a.name}}},{default:k(()=>[e("h4",null,n(a.name),1),e("div",C,[e("img",{src:a.photo,alt:"filter-image",width:"230px",height:"210px"},null,8,I)])]),_:2},1032,["to"]),e("div",B,[e("div",null,[e("p",null,[l(" Ціна: "),e("span",null,n(a.price),1),l(" грн. ")]),e("p",$,[a.in_stock==!0?(c(),r("span",S,"В наявності")):(c(),r("span",D,"Немає в наявності"))])]),a.in_stock==!0?(c(),r("button",{key:0,onClick:F=>g.addToBasket(a)},T,8,V)):N("",!0)])]))),128))])])}const O=_(x,[["render",b]]);export{O as default};
