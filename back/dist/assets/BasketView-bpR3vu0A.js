import{_ as k,r as f,c as l,b as t,F as g,e as I,t as r,f as _,w as h,o as d,h as b,v,i as S,p as x,g as B}from"./index-p39e-Gzg.js";const w={data(){return{basketItems:[]}},mounted(){this.getBasket()},methods:{getBasket(){const e=JSON.parse(localStorage.getItem("cart"))||[];this.basketItems=e,console.log(e)},removeFromBasket(e){const o=this.basketItems.findIndex(a=>a.id===e);o!==-1&&this.basketItems.splice(o,1),this.updateLocalStorage()},updateAmount(e,o){const a=this.basketItems.find(p=>p.id===e);a&&(a.amount=o),this.updateLocalStorage()},calculateTotal(e){return e?e.amount*e.price:this.basketItems.reduce((o,a)=>o+a.amount*a.price,0)},updateLocalStorage(){localStorage.setItem("cart",JSON.stringify(this.basketItems))}}},u=e=>(x("data-v-89a87224"),e=e(),B(),e),y={class:"wrap"},L=u(()=>t("h1",null,"Кошик товарів",-1)),N={key:0},V=u(()=>t("h3",null,"Ваш кошик пустий",-1)),F=[V],T={key:1,class:"basket-items"},C=u(()=>t("tr",null,[t("th",null,"ЗОБРАЖЕННЯ"),t("th",null,"НАЗВА ТОВАРУ"),t("th",null,"КІЛЬКІСТЬ"),t("th",null,"ЦІНА"),t("th",null,"ЗАГАЛЬНА ВАРТІСТЬ")],-1)),A=["src"],O=["onUpdate:modelValue"],D={class:"price"},J={class:"price"},R=["onClick"],U={class:"price"},q={class:"foward-link"},E=u(()=>t("h4",null,"Оформити замовлення →",-1));function G(e,o,a,p,m,n){const i=f("RouterLink");return d(),l("div",y,[L,m.basketItems.length===0?(d(),l("div",N,F)):(d(),l("div",T,[t("table",null,[C,(d(!0),l(g,null,I(m.basketItems,s=>(d(),l("tr",{key:s.id},[t("td",null,[t("img",{src:s.photo,alt:"filter-image",width:"50px",height:"50px"},null,8,A)]),t("td",null,[_(i,{to:{name:"GoodsItemPage",params:{productId:s.id},query:{productName:s.name}}},{default:h(()=>[t("h4",null,r(s.name),1)]),_:2},1032,["to"])]),t("td",null,[b(t("input",{type:"number",id:"amount","onUpdate:modelValue":c=>s.amount=c,onInput:o[0]||(o[0]=(...c)=>n.updateAmount&&n.updateAmount(...c)),min:"1"},null,40,O),[[v,s.amount]])]),t("td",D,r(s.price)+" грн",1),t("td",J,r(n.calculateTotal(s))+" грн",1),t("td",null,[t("button",{onClick:c=>n.removeFromBasket(s.id),class:"delete"},"Х",8,R)])]))),128))]),t("h3",U,"Разом: "+r(n.calculateTotal())+" грн.",1),t("div",q,[_(i,{to:"/"},{default:h(()=>[S("← Продовжити покупки")]),_:1}),_(i,{to:{name:"OrderForm"}},{default:h(()=>[E]),_:1},8,["to"])])]))])}const P=k(w,[["render",G],["__scopeId","data-v-89a87224"]]);export{P as default};
