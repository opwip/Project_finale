import{_ as u,d as f,c as _,b as e,h as n,v as i,o as b,p as k,g,i as m}from"./index-p39e-Gzg.js";const v={data(){return{name:"",surname:"",email:"",phone:"",basketItems:{}}},created(){this.getBasket()},methods:{getBasket(){const t=localStorage.getItem("cart");t&&(this.basketItems=JSON.parse(t))},async sendUserData(){try{let t=/^[А-Яа-яёЁЇїІіЄєҐґ]{3,12}$/,s=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,10}$/,d=/^\+380[1-9]{1}\d{8}$/,c=s.test(this.email),o=t.test(this.name),r=t.test(this.surname),a=d.test(this.phone);if(!this.name||!this.surname||!this.email||!this.phone){console.error("Заповнені не всі поля форми"),alert("Будь ласка, заповніть всі поля форми.");return}else if(c)if(o)if(r){if(!a){alert("Будь ласка, внесіть корректно свій номер телефону.");return}}else{alert("Будь ласка, внесіть корректно своє прізвище.");return}else{alert("Будь ласка, внесіть корректно своє ім'я.");return}else{alert("Будь ласка, внесіть корректно свою електронну адресу.");return}const p={name:this.name,surname:this.surname,email:this.email,phone:this.phone,basket:this.basketItems};this.$router.push({name:"OrderConfirm"}),this.clearBasket("cart");const h=await f.post("api/order/",p);console.log("Відповідь сервера:",h.data),console.log("MNOTHIG",this.basketItems)}catch(t){console.error("Помилка при надсиланні даних:",t.response||t)}},clearBasket(){localStorage.clear("cart")}}},l=t=>(k("data-v-0bc80b6e"),t=t(),g(),t),I={class:"form-wrap"},x=l(()=>e("div",{class:"form-headers"},[e("h2",null,"Форма замовлення"),e("legend",null,[e("h3",null,"Данні покупця")])],-1)),B={class:"order-form"},S={class:"form-item"},U=l(()=>e("label",{for:"name"},[m("Ім'я "),e("span",null,"*")],-1)),N={class:"form-item"},V=l(()=>e("label",{for:"surname"},[m("Прізвище "),e("span",null,"*")],-1)),D={class:"form-item"},w=l(()=>e("label",{for:"email"},[m("Електронна адреса "),e("span",null,"*")],-1)),E={class:"form-item"},O=l(()=>e("label",{for:"phone"},[m("Телефон "),e("span",null,"*")],-1));function z(t,s,d,c,o,r){return b(),_("div",I,[x,e("div",B,[e("div",S,[U,n(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),id:"name",placeholder:"Ваше ім'я"},null,512),[[i,o.name]])]),e("div",N,[V,n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.surname=a),id:"surname",placeholder:"Ваше прізвище"},null,512),[[i,o.surname]])]),e("div",D,[w,n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>o.email=a),id:"mail",placeholder:"Ваш email"},null,512),[[i,o.email]])]),e("div",E,[O,n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>o.phone=a),id:"phone",placeholder:"Ваш номер телефону +380..."},null,512),[[i,o.phone]])]),e("button",{class:"confirm-btn","on:click":s[4]||(s[4]=(...a)=>r.sendUserData&&r.sendUserData(...a))},"Далі",32)])])}const M=u(v,[["render",z],["__scopeId","data-v-0bc80b6e"]]);export{M as default};
