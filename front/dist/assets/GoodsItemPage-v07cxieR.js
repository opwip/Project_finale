import{_ as u,d as _,c as i,b as t,t as d,i as n,o as p,p as m,g,k}from"./index-IYJEuhEy.js";const f={data(){return{product:{},productName:null}},watch:{$route:"getData"},created(){this.getData()},methods:{replaceLineBreaks(o){return o.replace(/\r\n/g,"<br>")},addToBasket(){if(this.product.in_stock){const o={id:this.product.id,name:this.product.name,photo:this.product.photo,price:this.product.price,amount:1},s=JSON.parse(localStorage.getItem("cart"))||[];s.push(o),localStorage.setItem("cart",JSON.stringify(s)),console.log(s),alert("Товар додан у кошик!")}else alert("Нажаль, цього товару немає в наявності! Оберіть інший...")},getData(){const o=this.$route.params.productId,s=this.$route.query.productName;console.log(o),console.log(s),this.getProduct(o,s)},getProduct(o,s){_.get(`api/product/${o}`).then(c=>{this.product=c.data,this.productName=s,console.log(c.data);const l="https://lionfish-app-n5fr2.ondigitalocean.app";this.product.photo=l+this.product.photo;const e=this.product.photo;console.log(e)}).catch(c=>{console.error("Помилка при отриманні даних:",c)})}}},r=o=>(m("data-v-4a75a1c6"),o=o(),g(),o),I={class:"item-wrapper"},B={class:"item-page-wrap"},v={class:"top-info-block"},N={class:"cart-img"},y=["src"],S={class:"item-info"},b={class:"maker"},w={class:"storage"},x={key:0,style:{color:"greenyellow"}},T={key:1,style:{color:"red"}},D={class:"item-price"},L={class:"basket"},P=r(()=>t("p",null,"Додати у кошик",-1)),H=r(()=>t("img",{src:k,alt:"",width:"45px",height:"40px"},null,-1)),J=[H],M={class:"descript"},O=r(()=>t("h2",null,"Опис:",-1)),V=r(()=>t("br",null,null,-1)),q=["innerHTML"];function C(o,s,c,l,e,a){return p(),i("div",I,[t("h1",null,d(e.productName),1),t("div",B,[t("div",v,[t("div",N,[t("img",{src:e.product.photo,alt:"filter-image",width:"340rem",height:"340rem"},null,8,y)]),t("div",S,[t("p",null,[n(" Виробник: "),t("span",b,d(e.product.maker),1)]),t("p",w,[e.product.in_stock==!0?(p(),i("span",x,"В наявності")):(p(),i("span",T,"Немає в наявності"))]),t("p",D,[n(" Ціна: "),t("span",null,d(e.product.price),1),n(" грн. ")]),t("div",L,[P,t("button",{onClick:s[0]||(s[0]=(...h)=>a.addToBasket&&a.addToBasket(...h))},J)])])]),t("div",M,[O,V,t("p",{innerHTML:a.replaceLineBreaks(e.product.desc)},null,8,q)])])])}const G=u(f,[["render",C],["__scopeId","data-v-4a75a1c6"]]);export{G as default};
